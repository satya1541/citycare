{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"AppController_getHealthCheck","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["App"]}},"/favicon.ico":{"get":{"operationId":"AppController_handleFavicon","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/api/logs":{"get":{"operationId":"AppController_getErrorLogHtml","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/api/logs/write":{"get":{"operationId":"AppController_writeError","parameters":[{"name":"msg","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["App"]}},"/api/logs/clear":{"post":{"operationId":"AppController_clearLogs","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["App"]}},"/api/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Auth"]}},"/api/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/auth/send-otp":{"post":{"operationId":"AuthController_sendOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendOtpDto"}}}},"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/auth/verify-otp":{"post":{"operationId":"AuthController_verifyOtp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyOtpDto"}}}},"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/auth/reset-password":{"post":{"operationId":"AuthController_resetPassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/users":{"post":{"operationId":"UserController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]},"get":{"operationId":"UserController_findAll","parameters":[{"name":"status","required":false,"in":"query","schema":{"default":"active","type":"string","enum":["all","active","inactive"]}},{"name":"role","required":false,"in":"query","schema":{"type":"array","items":{"type":"string","enum":["admin","vendor","customer"]}}},{"name":"userId","required":false,"in":"query","schema":{"type":"array","items":{"type":"number"}}},{"name":"phase","required":false,"in":"query","schema":{"type":"string","enum":["all","1","2"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/vendor-onboarding-phases":{"get":{"operationId":"UserController_getVendorOnboardingPhases","parameters":[],"responses":{"200":{"description":""}},"tags":["User"]}},"/api/users/{id}/vendor/phase":{"get":{"operationId":"UserController_getVendorPhase","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["User"]},"put":{"operationId":"UserController_updateVendorPhase","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorPhaseUpdateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}":{"get":{"operationId":"UserController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]},"delete":{"operationId":"UserController_softDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}/customer":{"put":{"operationId":"UserController_updateCustomer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}/customer/upload":{"put":{"operationId":"UserController_uploadCustomerProfileImage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}/vendor":{"put":{"operationId":"UserController_createOrUpdateVendor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}/vendor/upload":{"put":{"operationId":"UserController_uploadVendorDocument","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"type","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{id}/vendor/uploads":{"put":{"operationId":"UserController_uploadMultipleVendorDocuments","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/users/{userId}/email/validate":{"post":{"operationId":"UserController_validateEmailWithOtp","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateEmailDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Validate email with OTP\nPOST /users/:userId/email/validate","tags":["User"]}},"/api/users/{userId}/email/send-otp":{"post":{"operationId":"UserController_sendOtp","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailOtpDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Send OTP to user's email\nPOST /api/users/:userId/email/send-otp","tags":["User"]}},"/api/users/{userId}/match-name":{"post":{"operationId":"UserController_matchName","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MatchNameDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["User"]}},"/api/vendors/dropdown":{"get":{"operationId":"VendorController_getDropdown","parameters":[{"name":"type","required":false,"in":"query","schema":{"default":"name","type":"string","enum":["name","phoneNo","vendorUniqueId","phase"]}}],"responses":{"200":{"description":""}},"tags":["Vendor"]}},"/api/s3/upload-url":{"post":{"operationId":"S3BucketController_getUploadUrl","parameters":[],"responses":{"201":{"description":""}},"tags":["S3Bucket"]}},"/api/notifications":{"post":{"operationId":"NotificationsController_sendNotification","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendNotificationDto"}}}},"responses":{"200":{"description":""}},"tags":["Notifications"]}},"/api/notifications/email":{"post":{"operationId":"NotificationsController_sendEmail","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailDto"}}}},"responses":{"200":{"description":""}},"tags":["Notifications"]}},"/api/notifications/sms":{"post":{"operationId":"NotificationsController_sendSms","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSmsDto"}}}},"responses":{"200":{"description":""}},"tags":["Notifications"]}},"/api/notifications/push":{"post":{"operationId":"NotificationsController_sendPush","parameters":[],"responses":{"200":{"description":""}},"tags":["Notifications"]}},"/api/vendor-service-menus":{"post":{"operationId":"VendorServiceMenuController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVendorServiceMenuDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorServiceMenu"]}},"/api/vendor-service-menus/with-selection":{"get":{"operationId":"VendorServiceMenuController_findWithSelection","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"string"}},{"name":"serviceId","required":true,"in":"query","schema":{"type":"string"}},{"name":"isSelect","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorServiceMenu"]}},"/api/vendor-service-menus/{id}":{"delete":{"operationId":"VendorServiceMenuController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorServiceMenu"]}},"/api/services":{"post":{"operationId":"AppServiceController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]},"get":{"operationId":"AppServiceController_findAll","parameters":[{"name":"status","required":false,"in":"query","schema":{"default":"all","type":"string","enum":["all","active","inactive"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]}},"/api/services/grouped":{"get":{"operationId":"AppServiceController_getGroupedByParent","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]}},"/api/services/parents":{"get":{"operationId":"AppServiceController_getParents","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]}},"/api/services/by-parent/{parentId}":{"get":{"operationId":"AppServiceController_getByParentId","parameters":[{"name":"parentId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]}},"/api/services/{id}":{"get":{"operationId":"AppServiceController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]},"put":{"operationId":"AppServiceController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateServiceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]},"delete":{"operationId":"AppServiceController_softDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["AppService"]}},"/api/service-menus":{"post":{"operationId":"ServiceMenuController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceMenuDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]},"get":{"operationId":"ServiceMenuController_findAll","parameters":[{"name":"status","required":false,"in":"query","schema":{"default":"all","type":"string","enum":["all","active","inactive"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}},{"name":"serviceId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"subcategoryId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]}},"/api/service-menus/grouped-by-subcategory":{"get":{"operationId":"ServiceMenuController_findAllGroupedBySubcategory","parameters":[{"name":"status","required":false,"in":"query","schema":{"default":"all","type":"string","enum":["all","active","inactive"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}},{"name":"serviceId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"subcategoryId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]}},"/api/service-menus/{id}":{"get":{"operationId":"ServiceMenuController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]},"put":{"operationId":"ServiceMenuController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateServiceMenuDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]},"delete":{"operationId":"ServiceMenuController_softDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]}},"/api/service-menus/{id}/status":{"patch":{"operationId":"ServiceMenuController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceMenu"]}},"/api/service-subcategories":{"post":{"operationId":"ServiceSubcategoryController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateServiceSubcategoryDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]},"get":{"operationId":"ServiceSubcategoryController_findAll","parameters":[{"name":"serviceId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"default":"all","type":"string","enum":["all","active","inactive"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]}},"/api/service-subcategories/by-service/{serviceId}":{"get":{"operationId":"ServiceSubcategoryController_findByServiceId","parameters":[{"name":"serviceId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]}},"/api/service-subcategories/{id}":{"get":{"operationId":"ServiceSubcategoryController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]},"put":{"operationId":"ServiceSubcategoryController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateServiceSubcategoryDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]},"delete":{"operationId":"ServiceSubcategoryController_softDelete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["ServiceSubcategory"]}},"/api/vendor-work-schedule":{"post":{"operationId":"VendorWorkScheduleController_createOrUpdate","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVendorWorkScheduleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorWorkSchedule"]}},"/api/vendor-work-schedule/user/{userId}/date/{date}":{"get":{"operationId":"VendorWorkScheduleController_getScheduleByDate","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"date","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorWorkSchedule"]},"delete":{"operationId":"VendorWorkScheduleController_deleteSchedule","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"date","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorWorkSchedule"]}},"/api/referrals/send":{"post":{"operationId":"ReferralController_sendReferral","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendReferralDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Referral"]}},"/api/referrals/my-code":{"get":{"operationId":"ReferralController_getMyCode","parameters":[{"name":"userId","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Referral"]}},"/api/referrals/apply":{"post":{"operationId":"ReferralController_applyReferral","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplyReferralDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Referral"]}},"/api/wallets":{"post":{"operationId":"WalletController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWalletDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Wallet"]}},"/api/wallets/{userId}/balance":{"get":{"operationId":"WalletController_getBalance","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Wallet"]}},"/api/wallets/transactions/{transactionId}":{"get":{"operationId":"WalletController_getTransactionById","parameters":[{"name":"transactionId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Get transaction by ID (for verification)\nNOTE: This route must come before @Get(':userId/transactions') to avoid route conflicts\nGET /wallets/transactions/:transactionId","tags":["Wallet"]}},"/api/wallets/{userId}/transactions":{"get":{"operationId":"WalletController_getTransactions","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"default":"all","type":"string","enum":["all","active","inactive"]}},{"name":"startDate","required":false,"in":"query","schema":{"pattern":"/^\\d{4}-\\d{2}-\\d{2}$/","type":"string"}},{"name":"endDate","required":false,"in":"query","schema":{"pattern":"/^\\d{4}-\\d{2}-\\d{2}$/","type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"default":true,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Wallet"]}},"/api/wallets/{userId}/topup/create":{"post":{"operationId":"WalletController_createTopupPayment","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletTopupDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Create Razorpay payment order for wallet top-up\nPOST /wallets/:userId/topup/create","tags":["Wallet"]}},"/api/wallets/{userId}/topup/verify":{"post":{"operationId":"WalletController_verifyTopupPayment","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletTopupVerifyDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Verify Razorpay payment and update wallet balance\nPOST /wallets/:userId/topup/verify","tags":["Wallet"]}},"/api/payments/create":{"post":{"operationId":"PaymentController_createPayment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePaymentDto"}}}},"responses":{"201":{"description":""}},"summary":"Create a payment (creates order internally)\nPOST /payments/create","tags":["Payment"]}},"/api/payments/verify":{"post":{"operationId":"PaymentController_verifyPayment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyPaymentDto"}}}},"responses":{"200":{"description":""}},"summary":"Verify payment\nPOST /payments/verify","tags":["Payment"]}},"/api/payments/vendor/toolkit-tshirt":{"post":{"operationId":"PaymentController_createVendorToolkitTshirtOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VendorToolkitTshirtOrderDto"}}}},"responses":{"201":{"description":""}},"summary":"Create payment order for toolkit and/or tshirt.\nBody: { \"vendorId\": number, \"products\": [\"toolkit\"] | [\"tshirt\"] | [\"toolkit\",\"tshirt\"] }","tags":["Payment"]}},"/api/payments/refund":{"post":{"operationId":"PaymentController_refundPayment","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundPaymentDto"}}}},"responses":{"200":{"description":""}},"summary":"Refund payment\nPOST /payments/refund","tags":["Payment"]}},"/api/payments/{paymentId}/refunds":{"get":{"operationId":"PaymentController_getRefundsByPayment","parameters":[{"name":"paymentId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get refunds for a payment\nGET /payments/:paymentId/refunds","tags":["Payment"]}},"/api/payments/refunds/razorpay/{razorpayPaymentId}":{"get":{"operationId":"PaymentController_getRefundsByRazorpayPaymentId","parameters":[{"name":"razorpayPaymentId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get refunds by Razorpay payment ID\nGET /payments/refunds/razorpay/:razorpayPaymentId","tags":["Payment"]}},"/api/payments":{"get":{"operationId":"PaymentController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"default":10,"type":"number"}},{"name":"paymentStatus","required":false,"in":"query","schema":{"type":"string","enum":["pending","processing","captured","failed","refunded","partially_refunded","cancelled"]}},{"name":"referenceId","required":false,"in":"query","schema":{"type":"string"}},{"name":"userId","required":false,"in":"query","schema":{"type":"string"}},{"name":"razorpayOrderId","required":false,"in":"query","schema":{"type":"string"}},{"name":"razorpayPaymentId","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get all payments with filters and pagination\nGET /payments\nNOTE: This must come before @Get(':id') to avoid route conflicts","tags":["Payment"]}},"/api/payments/reference/{referenceId}":{"get":{"operationId":"PaymentController_getPaymentsByReference","parameters":[{"name":"referenceId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"summary":"Get payments by reference\nGET /payments/reference/:referenceId","tags":["Payment"]}},"/api/payments/reference/{referenceId}/latest":{"get":{"operationId":"PaymentController_getLatestPaymentByReference","parameters":[{"name":"referenceId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"summary":"Get latest payment by reference\nGET /payments/reference/:referenceId/latest","tags":["Payment"]}},"/api/payments/{id}":{"get":{"operationId":"PaymentController_getPaymentById","parameters":[],"responses":{"200":{"description":""}},"summary":"Get payment by ID or Razorpay order/payment ID\nGET /payments/:id\nSupports: Internal ID (number) or Razorpay order/payment ID (string starting with order_/pay_)\nNOTE: This should be the last route to avoid conflicts with other routes","tags":["Payment"]}},"/api/payments/webhook":{"post":{"operationId":"PaymentController_handleWebhook","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RazorpayWebhookDto"}}}},"responses":{"200":{"description":""}},"summary":"Razorpay webhook handler\nPOST /payments/webhook","tags":["Payment"]}},"/api/product-purchases":{"get":{"operationId":"ProductPurchaseController_findAll","parameters":[{"name":"vendorId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"paymentId","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"productType","required":false,"in":"query","schema":{"type":"string","enum":["toolkit","tshirt"]}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"default":20,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["ProductPurchase"]}},"/api/vendor-earnings":{"get":{"operationId":"VendorEarningController_listMyEarnings","parameters":[{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["pending","in_payout","paid"]}},{"name":"page","required":false,"in":"query","schema":{"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"default":20,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["VendorEarning"]}},"/api/vendor-earnings/payouts":{"get":{"operationId":"VendorEarningController_listMyPayouts","parameters":[],"responses":{"200":{"description":""}},"tags":["VendorEarning"]}},"/api/admin/vendor-payouts":{"get":{"operationId":"AdminVendorPayoutController_listPayouts","parameters":[{"name":"status","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["AdminVendorPayout"]}},"/api/admin/vendor-payouts/{id}/paid":{"patch":{"operationId":"AdminVendorPayoutController_markPaid","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["AdminVendorPayout"]}},"/api/bookings/check-availability":{"get":{"operationId":"BookingController_checkAvailability","parameters":[{"name":"serviceId","required":true,"in":"query","schema":{"type":"number"}},{"name":"serviceMenuId","required":false,"in":"query","schema":{"type":"number"}},{"name":"latitude","required":true,"in":"query","schema":{"type":"number"}},{"name":"longitude","required":true,"in":"query","schema":{"type":"number"}},{"name":"bookingDate","required":true,"in":"query","schema":{"type":"string"}},{"name":"timeSlot","required":true,"in":"query","schema":{"maxLength":5,"pattern":"/^([01][0-9]|2[0-3]):[0-5][0-9]$/","type":"string"}},{"name":"radius","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/available-slots":{"get":{"operationId":"BookingController_getAvailableSlots","parameters":[{"name":"serviceId","required":true,"in":"query","schema":{"type":"number"}},{"name":"serviceMenuId","required":true,"in":"query","schema":{"type":"number"}},{"name":"bookingDate","required":true,"in":"query","schema":{"type":"string"}},{"name":"latitude","required":true,"in":"query","schema":{"type":"string"}},{"name":"longitude","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings":{"get":{"operationId":"BookingController_findAll","parameters":[{"name":"customerId","required":false,"in":"query","schema":{"type":"number"}},{"name":"vendorId","required":false,"in":"query","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["pending","confirmed","in_progress","completed","cancelled","all"]}},{"name":"dateFrom","required":false,"in":"query","schema":{"type":"string"}},{"name":"dateTo","required":false,"in":"query","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/vendor/{vendorId}/assignments":{"get":{"operationId":"BookingController_getVendorAssignments","parameters":[{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/vendor/{vendorId}/homeScreen":{"get":{"operationId":"BookingController_getVendorHomeScreen","parameters":[{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}":{"get":{"operationId":"BookingController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/reschedule/{customerId}":{"put":{"operationId":"BookingController_reschedule","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RescheduleBookingDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/cancel/{customerId}":{"post":{"operationId":"BookingController_cancelBooking","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CancelBookingDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/rate/{customerId}":{"post":{"operationId":"BookingController_rateBooking","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateBookingDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/start/{vendorId}":{"put":{"operationId":"BookingController_startService","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartServiceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/complete/{vendorId}":{"put":{"operationId":"BookingController_completeService","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteServiceDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/create-payment-order/{vendorId}":{"post":{"operationId":"BookingController_createPaymentOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/collect-cash/{vendorId}":{"post":{"operationId":"BookingController_collectCash","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CollectCashDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/notes/{userId}":{"put":{"operationId":"BookingController_updateNotes","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookingDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{id}/status/{userId}":{"put":{"operationId":"BookingController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/discover-vendors-from-cart/{customerId}":{"post":{"operationId":"BookingController_discoverVendorsFromCart","parameters":[{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/from-cart":{"post":{"operationId":"BookingController_createBookingsFromCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookingFromCartDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{bookingId}/accept/{vendorId}":{"post":{"operationId":"BookingController_acceptVendorAssignment","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/bookings/{bookingId}/reject/{vendorId}":{"post":{"operationId":"BookingController_rejectVendorAssignment","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Booking"]}},"/api/addresses":{"post":{"operationId":"AddressController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAddressDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]}},"/api/addresses/{userId}":{"get":{"operationId":"AddressController_list","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"pagination","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}},{"name":"isDefault","required":false,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]}},"/api/addresses/{userId}/default":{"get":{"operationId":"AddressController_getDefault","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]}},"/api/addresses/{id}":{"patch":{"operationId":"AddressController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAddressDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]},"delete":{"operationId":"AddressController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]}},"/api/addresses/{userId}/{id}/default":{"patch":{"operationId":"AddressController_setDefault","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ToggleDefaultDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Address"]}},"/api/cart/{userId}":{"post":{"operationId":"CartController_addToCart","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToCartDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]},"get":{"operationId":"CartController_getCart","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]},"delete":{"operationId":"CartController_clearCart","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]}},"/api/cart/{userId}/items/{id}":{"put":{"operationId":"CartController_updateCartItem","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartItemDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]},"delete":{"operationId":"CartController_removeFromCart","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]}},"/api/cart/schedule":{"put":{"operationId":"CartController_scheduleCartByService","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScheduleCartDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]}},"/api/cart/{userId}/summary":{"get":{"operationId":"CartController_getCartSummary","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]}},"/api/cart/{userId}/booking-summary/{serviceId}":{"get":{"operationId":"CartController_getBookingSummaryByService","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}},{"name":"serviceId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Cart"]}},"/api/vendor-assignment-attempts":{"post":{"operationId":"VendorAssignmentAttemptsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVendorAssignmentAttemptDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]},"get":{"operationId":"VendorAssignmentAttemptsController_findAll","parameters":[{"name":"bookingId","required":false,"in":"query","schema":{"type":"number"}},{"name":"vendorId","required":false,"in":"query","schema":{"type":"number"}},{"name":"status","required":false,"in":"query","schema":{"type":"string","enum":["PENDING","SENT","ACCEPTED","REJECTED","TIMEOUT"]}},{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]}},"/api/vendor-assignment-attempts/{id}":{"get":{"operationId":"VendorAssignmentAttemptsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]},"put":{"operationId":"VendorAssignmentAttemptsController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateVendorAssignmentAttemptDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]},"delete":{"operationId":"VendorAssignmentAttemptsController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]}},"/api/vendor-assignment-attempts/booking/{bookingId}":{"get":{"operationId":"VendorAssignmentAttemptsController_findByBookingId","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]}},"/api/vendor-assignment-attempts/vendor/{vendorId}":{"get":{"operationId":"VendorAssignmentAttemptsController_findByVendorId","parameters":[{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["VendorAssignmentAttempts"]}},"/api/ratings/booking/{bookingId}":{"get":{"operationId":"RatingController_getRatingsByBooking","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get ratings for a booking with details (service image/name, vendor name, customer name, vendor photo)","tags":["Rating"]}},"/api/ratings/customer/{customerId}":{"get":{"operationId":"RatingController_getRatingsByCustomer","parameters":[{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get ratings for a customer (as rater or rated) with details","tags":["Rating"]}},"/api/ratings/vendor/{vendorId}":{"get":{"operationId":"RatingController_getRatingsByVendor","parameters":[{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"summary":"Get ratings for a vendor (as rater or rated) with details","tags":["Rating"]}},"/api/ratings/booking/{bookingId}/customer/{customerId}":{"post":{"operationId":"RatingController_rateByCustomer","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}},{"name":"customerId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRatingDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Rating"]}},"/api/ratings/booking/{bookingId}/vendor/{vendorId}":{"post":{"operationId":"RatingController_rateByVendor","parameters":[{"name":"bookingId","required":true,"in":"path","schema":{"type":"number"}},{"name":"vendorId","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRatingDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["Rating"]}},"/api/upload-files":{"post":{"operationId":"UploadFileController_create","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]},"get":{"operationId":"UploadFileController_findAll","parameters":[{"name":"section","required":false,"in":"query","schema":{"type":"string"}},{"name":"pagination","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]}},"/api/upload-files/section/{section}":{"get":{"operationId":"UploadFileController_findBySection","parameters":[{"name":"section","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]}},"/api/upload-files/{id}":{"get":{"operationId":"UploadFileController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]},"put":{"operationId":"UploadFileController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]},"delete":{"operationId":"UploadFileController_delete","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["UploadFile"]}},"/api/hub":{"post":{"operationId":"HubController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHubDto"}}}},"responses":{"201":{"description":""}},"tags":["Hub"]},"get":{"operationId":"HubController_list","parameters":[{"name":"isActive","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"pagination","required":false,"in":"query","schema":{"type":"boolean"}},{"name":"page","required":false,"in":"query","schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Hub"]}},"/api/hub/dropdown":{"get":{"operationId":"HubController_dropdown","parameters":[],"responses":{"200":{"description":""}},"tags":["Hub"]}},"/api/hub/check-address":{"get":{"operationId":"HubController_checkAddress","parameters":[{"name":"hubId","required":true,"in":"query","schema":{"type":"number"}},{"name":"latitude","required":true,"in":"query","schema":{"type":"number"}},{"name":"longitude","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Hub"]}},"/api/hub/mapping":{"post":{"operationId":"HubController_saveMapping","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateVendorHubMappingDto"}}}},"responses":{"201":{"description":""}},"tags":["Hub"]}},"/api/digilocker/start/{userId}":{"get":{"operationId":"KycController_start","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Kyc"]}},"/api/digilocker/callback":{"get":{"operationId":"KycController_callback","parameters":[],"responses":{"200":{"description":""}},"tags":["Kyc"]}}},"info":{"title":"City Care API","description":"API documentation for City Care Backend","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LoginDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"userName":{"type":"string"},"phoneNo":{"type":"string"},"password":{"type":"string"},"otp":{"type":"string"},"role":{"type":"string","enum":["admin","vendor","customer"]}}},"SendOtpDto":{"type":"object","properties":{"email":{"type":"string","format":"email"},"userName":{"type":"string"},"phoneNo":{"type":"string"},"role":{"type":"string","enum":["admin","vendor","customer"]}}},"VerifyOtpDto":{"type":"object","properties":{"role":{"type":"string","enum":["admin","vendor","customer"]},"email":{"type":"string","format":"email"},"userName":{"type":"string"},"phoneNo":{"type":"string"},"otp":{"type":"string"},"newPassword":{"type":"string"}},"required":["otp"]},"ResetPasswordDto":{"type":"object","properties":{"role":{"type":"string","enum":["admin","vendor","customer"]},"email":{"type":"string","format":"email"},"userName":{"type":"string"},"phoneNo":{"type":"string"},"newPassword":{"type":"string","minLength":6},"confirmPassword":{"type":"string","minLength":6},"otp":{"type":"string"}}},"CreateUserDto":{"type":"object","properties":{"fullName":{"type":"string","maxLength":150},"userName":{"type":"string","maxLength":100},"email":{"type":"string","maxLength":150,"format":"email"},"phoneNo":{"type":"string","maxLength":10},"role":{"type":"string","enum":["vendor","customer"]},"password":{"type":"string"},"fcmToken":{"type":"string","maxLength":255}}},"VendorPhaseUpdateDto":{"type":"object","properties":{"phase":{"type":"number"}},"required":["phase"]},"ValidateEmailDto":{"type":"object","properties":{"otp":{"type":"string","minLength":4,"maxLength":4}},"required":["otp"]},"SendEmailOtpDto":{"type":"object","properties":{"email":{"type":"string","format":"email"}}},"MatchNameDto":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]},"SendEmailDto":{"type":"object","properties":{"to":{"type":"string","format":"email"},"cc":{"type":"array","items":{"type":"string","format":"email"}},"bcc":{"type":"array","items":{"type":"string","format":"email"}},"subject":{"type":"string"},"body":{"type":"string"},"attachments":{"description":"Inline attachments: { filename, content: Buffer, cid } - use cid:value in img src","type":"array","items":{"type":"string"}},"templateId":{"type":"string"}},"required":["to","subject","body"]},"SendSmsDto":{"type":"object","properties":{"to":{"type":"string"},"message":{"type":"string","description":"Plain-text message (used as fallback / logging)"},"templateId":{"type":"string","description":"DLT template ID from Fast2SMS (e.g. SMS_TEMPLATE.LOGIN_OTP)"},"variables":{"type":"string","description":"Pipe-separated variable values for the DLT template (e.g. \"1234|\")"}},"required":["to","message"]},"SendNotificationDto":{"type":"object","properties":{"channels":{"type":"array","items":{"type":"object"}},"email":{"$ref":"#/components/schemas/SendEmailDto"},"sms":{"$ref":"#/components/schemas/SendSmsDto"},"pushToken":{"type":"string"},"title":{"type":"string"},"body":{"type":"string"},"data":{"type":"object","description":"Arbitrary metadata that should travel with the notification (e.g. deep-link info)."}},"required":["channels","title","body"]},"CreateVendorServiceMenuDto":{"type":"object","properties":{"userId":{"type":"number"},"serviceId":{"type":"number"},"serviceIds":{"type":"array","items":{"type":"number"}},"businessLatitude":{"type":"number"},"businessLongitude":{"type":"number"},"radius":{"type":"number"}}},"CreateServiceDto":{"type":"object","properties":{"name":{"type":"string","maxLength":150},"description":{"type":"string","maxLength":1000},"imagePath":{"type":"string","maxLength":500},"videoPath":{"type":"string","maxLength":500},"parentId":{"type":"number"},"isCategory":{"type":"boolean"},"displaySortOrder":{"type":"number"}},"required":["name"]},"UpdateServiceDto":{"type":"object","properties":{"isActive":{"type":"boolean"}}},"CreateServiceMenuDto":{"type":"object","properties":{"title":{"type":"string","maxLength":150},"description":{"type":"string","maxLength":1000},"imagePath":{"type":"string","maxLength":500},"subcategoryId":{"type":"number"},"basePriceInPaisa":{"type":"number"},"durationMinutes":{"type":"number","minimum":1},"discountType":{"type":"string","enum":["PERCENT","FLAT"]},"discountValue":{"type":"number","minimum":0},"sortOrder":{"type":"number","minimum":0},"serviceId":{"type":"number"}},"required":["title","basePriceInPaisa"]},"UpdateServiceMenuDto":{"type":"object","properties":{"isActive":{"type":"boolean"}}},"CreateServiceSubcategoryDto":{"type":"object","properties":{"serviceId":{"type":"number"},"title":{"type":"string","maxLength":150},"description":{"type":"string","maxLength":1000},"imagePath":{"type":"string","maxLength":500},"displaySortOrder":{"type":"number","minimum":0}},"required":["serviceId","title"]},"UpdateServiceSubcategoryDto":{"type":"object","properties":{"isActive":{"type":"boolean"}}},"CreateVendorWorkScheduleDto":{"type":"object","properties":{"userId":{"type":"number"},"workDate":{"type":"string"},"slot7_8":{"type":"boolean"},"slot8_9":{"type":"boolean"},"slot9_10":{"type":"boolean"},"slot10_11":{"type":"boolean"},"slot11_12":{"type":"boolean"},"slot12_13":{"type":"boolean"},"slot13_14":{"type":"boolean"},"slot14_15":{"type":"boolean"},"slot15_16":{"type":"boolean"},"slot16_17":{"type":"boolean"},"slot17_18":{"type":"boolean"},"slot18_19":{"type":"boolean"},"slot19_20":{"type":"boolean"}},"required":["userId","workDate"]},"SendReferralDto":{"type":"object","properties":{"phoneNo":{"type":"string","maxLength":15},"role":{"type":"string","enum":["admin","vendor","customer"]}},"required":["phoneNo","role"]},"ApplyReferralDto":{"type":"object","properties":{"userId":{"type":"number"},"referralCode":{"type":"string","maxLength":20},"phoneNo":{"type":"string"},"role":{"type":"string","enum":["admin","vendor","customer"]}},"required":["userId","referralCode"]},"CreateWalletDto":{"type":"object","properties":{"userId":{"type":"number"},"currency":{"type":"string","default":"INR","enum":["INR","USD"]}},"required":["userId"]},"WalletTopupDto":{"type":"object","properties":{"amountInPaisa":{"type":"number","minimum":1},"referenceId":{"type":"number"}},"required":["amountInPaisa"]},"WalletTopupVerifyDto":{"type":"object","properties":{"razorpayOrderId":{"type":"string"},"razorpayPaymentId":{"type":"string"},"razorpaySignature":{"type":"string"},"description":{"type":"string"}},"required":["razorpayOrderId","razorpayPaymentId","razorpaySignature"]},"CreatePaymentDto":{"type":"object","properties":{"amountInPaisa":{"type":"number","minimum":1},"currency":{"type":"string"},"receipt":{"type":"string"},"referenceId":{"type":"number"}},"required":["amountInPaisa"]},"VerifyPaymentDto":{"type":"object","properties":{"razorpayOrderId":{"type":"string"},"razorpayPaymentId":{"type":"string"},"razorpaySignature":{"type":"string"},"additionalData":{"type":"object"}},"required":["razorpayOrderId","razorpayPaymentId","razorpaySignature"]},"VendorToolkitTshirtOrderDto":{"type":"object","properties":{"vendorId":{"type":"number","minimum":1},"products":{"type":"string","enum":["toolkit","tshirt"],"uniqueItems":true,"minItems":1,"maxItems":2}},"required":["vendorId","products"]},"RefundPaymentDto":{"type":"object","properties":{"razorpayPaymentId":{"type":"string"},"amountInPaisa":{"type":"number","minimum":1},"speed":{"type":"string","enum":["normal","optimum"]},"notes":{"type":"string"},"receipt":{"type":"string"}},"required":["razorpayPaymentId"]},"RazorpayWebhookDto":{"type":"object","properties":{"entity":{"type":"string"},"account_id":{"type":"string"},"event":{"type":"string"},"contains":{"type":"array","items":{"type":"string"}},"created_at":{"type":"number"}},"required":["entity","account_id","event","contains","created_at"]},"RescheduleBookingDto":{"type":"object","properties":{"bookingDate":{"type":"string"},"timeSlot":{"type":"string","maxLength":5,"pattern":"/^([01][0-9]|2[0-3]):[0-5][0-9]$/"}},"required":["bookingDate","timeSlot"]},"CancelBookingDto":{"type":"object","properties":{"reason":{"type":"string"}}},"RateBookingDto":{"type":"object","properties":{"rating":{"type":"number","minimum":1,"maximum":5},"serviceQuality":{"type":"number","minimum":1,"maximum":5},"punctuality":{"type":"number","minimum":1,"maximum":5},"valueForMoney":{"type":"number","minimum":1,"maximum":5},"reviewText":{"type":"string","maxLength":1000}},"required":["rating"]},"StartServiceDto":{"type":"object","properties":{"actualStartTime":{"type":"string"},"otp":{"type":"string","minLength":4,"maxLength":4},"vendorNotes":{"type":"string"}},"required":["actualStartTime","otp"]},"CompleteServiceDto":{"type":"object","properties":{"actualEndTime":{"type":"string"},"otp":{"type":"string","minLength":4,"maxLength":4},"serviceSummary":{"type":"string","maxLength":1000}},"required":["actualEndTime","otp"]},"CollectCashDto":{"type":"object","properties":{"otp":{"type":"string","minLength":4,"maxLength":4}},"required":["otp"]},"UpdateBookingDto":{"type":"object","properties":{"vendorNotes":{"type":"string"}}},"CreateBookingFromCartDto":{"type":"object","properties":{"userId":{"type":"number"},"serviceId":{"type":"number"},"paymentMethod":{"type":"string","enum":["PAY_NOW","PAY_AFTER"]},"paymentMode":{"type":"string","enum":["ONLINE","CASH"]},"priceSummary":{"type":"object"}},"required":["userId","serviceId"]},"CreateAddressDto":{"type":"object","properties":{"userId":{"type":"number"},"fullName":{"type":"string","maxLength":150},"phoneNo":{"type":"string","pattern":"/^\\d{10}$/"},"addressLine1":{"type":"string","maxLength":255},"addressLine2":{"type":"string","maxLength":255},"label":{"type":"string","maxLength":50},"latitude":{"type":"number"},"longitude":{"type":"number"},"isDefault":{"type":"boolean"}},"required":["userId","addressLine1"]},"UpdateAddressDto":{"type":"object","properties":{}},"ToggleDefaultDto":{"type":"object","properties":{"isDefault":{"type":"boolean"}},"required":["isDefault"]},"AddToCartDto":{"type":"object","properties":{"serviceId":{"type":"number"},"serviceMenuId":{"type":"number"},"quantity":{"type":"number","minimum":1}},"required":["serviceId","serviceMenuId"]},"UpdateCartItemDto":{"type":"object","properties":{"quantity":{"type":"number","minimum":1}}},"ScheduleCartDto":{"type":"object","properties":{"userId":{"type":"number"},"serviceId":{"type":"number"},"bookingDate":{"type":"string"},"timeSlot":{"type":"string","maxLength":5,"pattern":"/^([01][0-9]|2[0-3]):[0-5][0-9]$/"},"addressId":{"type":"number"}},"required":["userId","serviceId","bookingDate","timeSlot","addressId"]},"CreateVendorAssignmentAttemptDto":{"type":"object","properties":{"bookingId":{"type":"number"},"vendorId":{"type":"number"}},"required":["bookingId","vendorId"]},"UpdateVendorAssignmentAttemptDto":{"type":"object","properties":{"status":{"type":"string","enum":["PENDING","SENT","ACCEPTED","REJECTED","TIMEOUT"]}}},"CreateRatingDto":{"type":"object","properties":{"rating":{"type":"number","minimum":1,"maximum":5},"reviewText":{"type":"string","maxLength":1000}},"required":["rating"]},"CreateHubDto":{"type":"object","properties":{"hubName":{"type":"string","maxLength":150},"centerLat":{"type":"number"},"centerLng":{"type":"number"},"serviceRadiusKm":{"type":"number","minimum":1},"isActive":{"type":"boolean"}},"required":["hubName","centerLat","centerLng","serviceRadiusKm"]},"HubMappingItem":{"type":"object","properties":{"hubId":{"type":"number"},"priority":{"type":"number","enum":[1,2]}},"required":["hubId","priority"]},"CreateVendorHubMappingDto":{"type":"object","properties":{"userId":{"type":"number"},"hubId":{"type":"number"},"priority":{"type":"number","enum":[1,2]},"hubs":{"type":"array","items":{"$ref":"#/components/schemas/HubMappingItem"}}},"required":["userId"]}}}}